# Indeed レポート自動生成.

このアプリは、Indeed の運用データ（CSV）から月次レポート PDF を自動で生成する Next.js 製ツールです。対象月と 2 種類の CSV をアップロードすると、日次・週次・キャンペーン別の集計と考察を含む PDF が出力されます。

## 使い方

### ローカル環境の起動

1. 依存関係をインストール:
   ```bash
   npm install
   ```
2. 開発サーバーを起動:
   ```bash
   npm run dev
   ```
3. ブラウザで `http://localhost:3000` を開きます。

### データアップロードから PDF 表示まで

1. フォームで対象月を選び、CSV A（日次・週次の元データ）と CSV B（当月のキャンペーン別集計）を選択します。
2. `PDF を生成` ボタンを押すと、サーバー側で以下の処理が行われます。
   - CSV を読み込み、型検証を行います。
   - 月次・週次・キャンペーン別に集計し、簡単な考察文を生成します。
   - 集計結果を HTML に差し込み、ヘッドレスブラウザで PDF を生成します。
3. 生成が完了すると「ダウンロード」「新規タブで表示」のリンクが現れ、PDF を保存・閲覧できます。

## 技術的な流れ

1. クライアントで入力された月と CSV ファイルを `FormData` として `/api/generate-pdf` に送信します。
2. サーバーでは CSV をパースして日次・キャンペーン別データに分解し、月次・週次・キャンペーン別の統計値を計算します。
3. 集計結果からコメントを生成し、HTML テンプレートに差し込んで Puppeteer で PDF に変換し、レスポンスとして返却します。
